<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 780 420" font-family="Arial, Helvetica, sans-serif">
  <text x="390" y="28" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">Build System</text>
  <text x="390" y="46" text-anchor="middle" font-size="11" fill="#888">Singleton Docker containers â€” never cargo/npm on host</text>

  <!-- Host machine -->
  <rect x="20" y="70" width="740" height="100" rx="8" fill="#F8F8F8" stroke="#333" stroke-width="2"/>
  <text x="40" y="95" font-size="13" font-weight="bold" fill="#333">macOS Host</text>

  <!-- Wrapper scripts on host -->
  <rect x="40" y="108" width="140" height="45" rx="6" fill="#333"/>
  <text x="110" y="128" text-anchor="middle" font-size="10" font-weight="bold" fill="white">./scripts/build</text>
  <text x="110" y="143" text-anchor="middle" font-size="9" fill="#AAA">./scripts/test</text>

  <rect x="200" y="108" width="140" height="45" rx="6" fill="#333"/>
  <text x="270" y="128" text-anchor="middle" font-size="10" font-weight="bold" fill="white">./scripts/deploy</text>
  <text x="270" y="143" text-anchor="middle" font-size="9" fill="#AAA">./scripts/lint</text>

  <rect x="360" y="108" width="140" height="45" rx="6" fill="#333"/>
  <text x="430" y="128" text-anchor="middle" font-size="10" font-weight="bold" fill="white">make build</text>
  <text x="430" y="143" text-anchor="middle" font-size="9" fill="#AAA">make test</text>

  <rect x="540" y="108" width="200" height="45" rx="6" fill="#E74C3C"/>
  <text x="640" y="128" text-anchor="middle" font-size="10" font-weight="bold" fill="white">NEVER raw cargo/npm</text>
  <text x="640" y="143" text-anchor="middle" font-size="9" fill="white">on host machine</text>

  <!-- docker exec arrows -->
  <line x1="110" y1="170" x2="110" y2="210" stroke="#4A90D9" stroke-width="2" marker-end="url(#bs-a)"/>
  <text x="125" y="195" font-size="9" fill="#4A90D9">docker exec</text>

  <line x1="270" y1="170" x2="350" y2="210" stroke="#5CB85C" stroke-width="2" marker-end="url(#bs-ag)"/>
  <text x="325" y="195" font-size="9" fill="#5CB85C">docker exec</text>

  <line x1="430" y1="170" x2="560" y2="210" stroke="#F0AD4E" stroke-width="2" marker-end="url(#bs-ao)"/>
  <text x="510" y="195" font-size="9" fill="#F0AD4E">docker exec</text>

  <!-- Singleton containers -->
  <rect x="20" y="210" width="740" height="150" rx="8" fill="#EBF2FA" stroke="#4A90D9" stroke-width="1.5"/>
  <text x="40" y="233" font-size="11" font-weight="bold" fill="#4A90D9">Persistent Singleton Containers (always running)</text>

  <!-- cvlan-build -->
  <rect x="35" y="245" width="210" height="100" rx="6" fill="#4A90D9"/>
  <text x="140" y="268" text-anchor="middle" font-size="12" font-weight="bold" fill="white">cvlan-build</text>
  <rect x="50" y="278" width="180" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="140" y="291" text-anchor="middle" font-size="9" fill="white">Rust + sqlx + protoc + buf</text>
  <rect x="50" y="300" width="180" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="140" y="313" text-anchor="middle" font-size="9" fill="white">Cargo cache persisted</text>
  <rect x="50" y="322" width="180" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="140" y="335" text-anchor="middle" font-size="9" fill="white">clippy + rustfmt included</text>

  <!-- vrouter-build -->
  <rect x="260" y="245" width="210" height="100" rx="6" fill="#5CB85C"/>
  <text x="365" y="268" text-anchor="middle" font-size="12" font-weight="bold" fill="white">vrouter-build</text>
  <rect x="275" y="278" width="180" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="365" y="291" text-anchor="middle" font-size="9" fill="white">Rust + VPP 24.10 libs</text>
  <rect x="275" y="300" width="180" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="365" y="313" text-anchor="middle" font-size="9" fill="white">DPDK + libvppinfra</text>
  <rect x="275" y="322" width="180" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="365" y="335" text-anchor="middle" font-size="9" fill="white">clippy + rustfmt included</text>

  <!-- cvlan-ui-build -->
  <rect x="485" y="245" width="130" height="100" rx="6" fill="#5BC0DE"/>
  <text x="550" y="268" text-anchor="middle" font-size="12" font-weight="bold" fill="white">cvlan-ui-build</text>
  <rect x="495" y="278" width="110" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="550" y="291" text-anchor="middle" font-size="9" fill="white">Node 20 + npm</text>
  <rect x="495" y="300" width="110" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="550" y="313" text-anchor="middle" font-size="9" fill="white">Vite + React</text>
  <rect x="495" y="322" width="110" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="550" y="335" text-anchor="middle" font-size="9" fill="white">eslint + vitest</text>

  <!-- client-build -->
  <rect x="630" y="245" width="120" height="100" rx="6" fill="#F0AD4E"/>
  <text x="690" y="268" text-anchor="middle" font-size="12" font-weight="bold" fill="white">client-build</text>
  <rect x="640" y="278" width="100" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="690" y="291" text-anchor="middle" font-size="9" fill="white">Rust + clang</text>
  <rect x="640" y="300" width="100" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="690" y="313" text-anchor="middle" font-size="9" fill="white">lld linker</text>
  <rect x="640" y="322" width="100" height="18" rx="3" fill="white" fill-opacity="0.2"/>
  <text x="690" y="335" text-anchor="middle" font-size="9" fill="white">Cross-compile</text>

  <!-- Benefits -->
  <rect x="20" y="375" width="740" height="35" rx="6" fill="#FFF9E6" stroke="#F0AD4E" stroke-width="1"/>
  <text x="390" y="397" text-anchor="middle" font-size="10" fill="#333">Persistent cargo/npm caches = fast incremental builds | Source mounted via volumes | Identical env across machines</text>

  <defs>
    <marker id="bs-a" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#4A90D9"/></marker>
    <marker id="bs-ag" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#5CB85C"/></marker>
    <marker id="bs-ao" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#F0AD4E"/></marker>
  </defs>
</svg>
